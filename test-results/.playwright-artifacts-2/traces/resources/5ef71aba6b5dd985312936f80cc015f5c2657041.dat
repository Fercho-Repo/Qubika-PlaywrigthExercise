jQuery(document).ready(function(){  

    function reveal() {
        var windowHeight = $(window).height();
        var positionYscroll = window.pageYOffset;
        var position;

        $(".reveal").each(function() {
            var elementTop = $(this).offset().top;
            var elementVisible = parseInt($(this).attr('element-visible')) || 150;
            position = positionYscroll + windowHeight - elementVisible;
            if (elementTop < position) {
                if (!$(this).hasClass("active")) {
                    $(this).addClass("active");
                }
            } else {
                if (!$(this).hasClass("single-reveal")) {
                    $(this).removeClass("active");
                }
            }
        });
    }

    $(window).scroll(reveal);
    setTimeout(reveal, 100);

}); 